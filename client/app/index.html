<html>
    <head>
        <script src="app/bower_components/promise-js/promise.js" type="application/javascript"></script>
        <script src="app/bower_components/dustjs-linkedin/dist/dust-full.js" type="application/javascript"></script>
        <script src="app/bower_components/dustjs-linkedin-helpers/dist/dust-helpers.js" type="application/javascript"></script>
        <script src="app/bower_components/jquery/dist/jquery.js" type="application/javascript"></script>
        <script src="app/js/data-renderer.js" type="application/javascript"></script>
        <script src="app/js/product-service.js" type="application/javascript"></script>
        <script src="app/js/sku-page.js" type="application/javascript"></script>
        <script src="app/js/product-list-widget.js" type="application/javascript"></script>
    </head>
    <body>
        <div>
            <span>Find by SKU:</span> <input id="sku" />
            <button id="submit">Find</button>
        </div>
        <div id="product-details"></div>
        <div id="products-list"></div>
        <script>
            var productDetails = document.getElementById('product-details');
            var productList = document.getElementById('products-list');

            var sku = document.getElementById('sku');

            var dataRenderer = new DataRenderer();
            var productService = new ProductService('api/products');

            var page = new SkuPage(productDetails, productService, dataRenderer);

            var submit = document.getElementById('submit');

            submit.addEventListener('click', function(ev) {
                page.findProduct(sku.value);
            });

            var listWidget = new ProductListWidget(productList, productService, dataRenderer);

            listWidget.render();
        </script>
    </body>
</html>